{% extends 'base.html' %}
{% load static %}
{% block head_content %}

    <title>Indice precio al consumidor</title>

{% endblock head_content %}

{% block container %}

 <div class="content">
          <div class="div-content-l">
            <div class="content-button">
              <button type="button" style="background: #003763; " class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modal1">
                Tabla variaciones intermensual / interanual
              </button>
 
            </div> 
            <div class="content-description-l">
              <h2 class="mb-0" >Salario promedio en el sector construccion</h2>
              En el mes de julio, el salario promedio del sector Construcción en Formosa fue de $606.068 representando una disminución nominal del 25,1% con respecto al mes anterior. Con respecto a julio del año 2023 se observa un incremento del 204,3%. 
              Si bien, los salarios nominales del sector se vienen incrementando de manera sostenida desde el año 2021, 
              Los salarios reales promedio se viene deteriorando desde principios del año 2022. Para el caso particular del mes de julio del año 2024, este disminuyó un 15,1% con respecto al mes de julio del año 2023. <br>
            </div>
            <div class="content-chart-div-l">
               
                 <div style= "width: 1600px; margin: 0px auto;" id="salario"></div> 
                
            </div> 


            <div class="content-chart-div-l">
               
              <div style= "width: 1600px; margin: 0px auto;" id="salario-historico"></div> 
            </div> 
   



          
          </div>
     
      <div class="content-filter-l">
        
        <form method= "POST" action="{% url 'asalariados' %} ">
            {% csrf_token %}
            <div class ="content-error">

              {% if error_message %}

                {{error_message}}
              
              {%endif%}
            </div>
           
            <select class="select1" style="width: 130px;" name="año">
                <option  value='0' selected>Año</option>
                    <option value="2">2020</option>
                    <option value="3">2021</option>
                    <option value="4">2022</option>
                    <option value="5">2023</option>
                    <option value="6">2024</option>


            </select>
            <select class="select1" style="width: 130px;" name="valor">
              <option value='0' selected>Valor</option>
             
              <option value="2">Nacional</option>
              <option value="3">NEA</option>

            </select>
           
            <button type="submit" style="display:block; margin: 0px auto" id="btn" class="btn-filtrar">Filtrar</button>
            

        </form>

     </div>


       

    </div> 


 <!-- Modal 1 -->
 <div class="modal fade"  id="modal1" tabindex="-1" aria-labelledby="modal1Label" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content  modal-lg">
      <div class="modal-header">
        <h5 class="modal-title" id="modal1Label">IPC por division</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <table id="example" class="stripe row-border order-column" style="width:100%">
          <thead>
              <tr style="color: black; " >
                  
                          <th>Año</th>
                          <th>Mes</th>
                          <th>Valor</th>
                          
                          <th>Salario promedio</th>
              </tr>
          </thead>
          <tbody>
                      {% for  data in sector_construccion %}
                      <tr style="color: black;">
                      
                          
                              <td>{{data.anio__anio}}</td>
                              
                              <td>{{data.mes__mes}}</td>
                              
                              <td>{{data.valor__valor}}</td>
    
                              <td>{{data.salario_promedio}}</td>
    
                            
    
    
                          
                      </tr>
                      {% endfor %}
                      
              
          </tbody>
        </table> 
        

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</div>





</div>

<script>
  function datosVariacionConstruccion(){
   

    let intermensual = [];
    let interanual = [];
    let meses = []
    let anio = ' '
    let valor
    
  // Obtener datos interanuales / mensuales
    {% for data in sector_construccion %}
      if('{{data.valor__valor}}'== 'Formosa'){
        intermensual.push({{data.salario_promedio}})
        interanual.push({{data.salario_promedio}})
      }
     meses.push('{{data.mes__mes}}')
     anio = {{data.anio__anio}}
     valor = '{{data.valor__valor}}'
     
    
    {% endfor %}
    console.log(intermensual)
    return [intermensual, interanual,meses, anio, valor];
  }

  construccion()
</script>
{% endblock container %}
